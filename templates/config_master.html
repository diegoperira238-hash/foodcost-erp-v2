{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h1 class="mb-4"><i class="fas fa-cogs me-2"></i>Configurações Gerais (Master)</h1>

    <div class="row">

        <!-- LOJAS -->
        <div class="col-md-6">
            <div class="card shadow-sm border-0 mb-4">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0"><i class="fas fa-store me-2"></i>Lojas</h4>
                </div>
                <div class="card-body">
                    <ul class="list-group">
                        {% for loja in lojas %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            {{ loja.nome }}
                            <a href="/excluir/loja/{{ loja.id }}" class="text-danger" onclick="return confirm('Excluir?')">
                                <i class="fas fa-trash"></i>
                            </a>
                        </li>
                        {% else %}
                        <li class="list-group-item text-muted">Nenhuma loja cadastrada.</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

        <!-- MÁQUINAS -->
        <div class="col-md-6">
            <div class="card shadow-sm border-0 mb-4">
                <div class="card-header bg-info text-white">
                    <h4 class="mb-0"><i class="fas fa-cogs me-2"></i>Máquinas / Equipamentos</h4>
                </div>
                <div class="card-body">
                    <ul class="list-group">
                        {% for maquina in maquinas %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            {{ maquina.nome }}
                            <a href="/excluir/maquina/{{ maquina.id }}" class="text-danger" onclick="return confirm('Excluir?')">
                                <i class="fas fa-trash"></i>
                            </a>
                        </li>
                        {% else %}
                        <li class="list-group-item text-muted">Nenhuma máquina cadastrada.</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

        <!-- USUÁRIOS -->
        <div class="col-md-6">
            <div class="card shadow-sm border-0 mb-4">
                <div class="card-header bg-success text-white">
                    <h4 class="mb-0"><i class="fas fa-users me-2"></i>Usuários</h4>
                </div>
                <div class="card-body">
                    <ul class="list-group">
                        {% for u in usuarios %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            {{ u.nome }} - {{ u.role }}
                            <a href="/excluir/usuario/{{ u.id }}" class="text-danger" onclick="return confirm('Excluir?')">
                                <i class="fas fa-trash"></i>
                            </a>
                        </li>
                        {% else %}
                        <li class="list-group-item text-muted">Nenhum usuário cadastrado.</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

        <!-- CATEGORIAS -->
        <div class="col-md-6">
            <div class="card shadow-sm border-0 mb-4">
                <div class="card-header bg-secondary text-white">
                    <h4 class="mb-0"><i class="fas fa-tags me-2"></i>Categorias</h4>
                </div>
                <div class="card-body">
                    <form method="POST">
                        <input type="hidden" name="tipo_acao" value="add_cat">
                        <div class="input-group mb-3">
                            <input type="text" name="nome_cat" class="form-control" placeholder="Nova Categoria" required>
                            <button class="btn btn-secondary" type="submit">Adicionar</button>
                        </div>
                    </form>
                    <ul class="list-group">
                        {% for c in categorias %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            {{ c.nome }}
                            <a href="/excluir/categoria/{{ c.id }}" class="text-danger"><i class="fas fa-trash"></i></a>
                        </li>
                        {% else %}
                        <li class="list-group-item text-muted">Nenhuma categoria cadastrada.</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

        <!-- UNIDADES -->
        <div class="col-md-6">
            <div class="card shadow-sm border-0 mb-4">
                <div class="card-header bg-warning text-dark">
                    <h4 class="mb-0"><i class="fas fa-balance-scale me-2"></i>Unidades</h4>
                </div>
                <div class="card-body">
                    <form method="POST">
                        <input type="hidden" name="tipo_acao" value="add_uni">
                        <div class="input-group mb-3">
                            <input type="text" name="sigla_uni" class="form-control" placeholder="Nova Unidade" required>
                            <button class="btn btn-warning" type="submit">Adicionar</button>
                        </div>
                    </form>
                    <ul class="list-group">
                        {% for u in unidades %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            {{ u.sigla }}
                            <a href="/excluir/unidade/{{ u.id }}" class="text-danger"><i class="fas fa-trash"></i></a>
                        </li>
                        {% else %}
                        <li class="list-group-item text-muted">Nenhuma unidade cadastrada.</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

    </div>
</div>
{% endblock %}
